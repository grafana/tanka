{"version":3,"sources":["webpack:///./docs/namespaces.md"],"names":["_frontmatter","Object","isExtensible","prototype","hasOwnProperty","call","defineProperty","configurable","value","name","filename","layoutProps","MDXLayout","DefaultLayout","MDXContent","_ref","components","props","_objectWithoutProperties","_excluded","mdx","_extends","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---docs-namespaces-md-3178096e71e9b60e7f43.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/runner/work/tanka/tanka/docs/node_modules/gatsby-theme-docz/src/base/Layout.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"namespaces\"\n    }}>{`Namespaces`}</h1>\n    <p>{`When using Tanka, namespaces are handled slightly different compared to\n`}<inlineCode parentName=\"p\">{`kubectl`}</inlineCode>{`, because environments offer more granular control than contexts used\nby `}<inlineCode parentName=\"p\">{`kubectl`}</inlineCode>{`.`}</p>\n    <h2 {...{\n      \"id\": \"default-namespaces\"\n    }}>{`Default namespaces`}</h2>\n    <p>{`In the `}<a parentName=\"p\" {...{\n        \"href\": \"/pr-preview/pr-884/config/#file-format\"\n      }}><inlineCode parentName=\"a\">{`spec.json`}</inlineCode></a>{` of each environment, you can set the\n`}<inlineCode parentName=\"p\">{`spec.namespace`}</inlineCode>{` field, which is the default namespace. The default namespace is\nset for every resource that `}<strong parentName=\"p\">{`does not`}</strong>{` have a namespace `}<strong parentName=\"p\">{`set from Jsonnet`}</strong>{`.`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}></th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Scenario`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Action`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`1.`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Your resource `}<strong parentName=\"td\">{`lacks namespace`}</strong>{` information (`}<inlineCode parentName=\"td\">{`metadata.namespace`}</inlineCode>{`) unset or `}<inlineCode parentName=\"td\">{`\"\"`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Tanka sets `}<inlineCode parentName=\"td\">{`metadata.namespace`}</inlineCode>{` to the value of `}<inlineCode parentName=\"td\">{`spec.namespace`}</inlineCode>{` in `}<inlineCode parentName=\"td\">{`spec.json`}</inlineCode></td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`2.`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Your resource `}<strong parentName=\"td\">{`already has`}</strong>{` namespace information`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Tanka does nothing, accepting the explicit namespace`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <p>{`While we recommend keeping environments limited to a single namespace, there are\nlegit cases where it's handy to have them span multiple namespaces, for example:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Some other piece of software (Operators, etc) require resources to be in a specific namespace`}</li>\n      <li parentName=\"ul\">{`A rarely changing \"base\" environment holding resources deployed for many clusters in the same way`}</li>\n      <li parentName=\"ul\">{`etc.`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"cluster-wide-resources\"\n    }}>{`Cluster-wide resources`}</h2>\n    <p>{`Some resources in Kubernetes are cluster-wide, meaning they don't belong to a single namespace at all.`}</p>\n    <p>{`Tanka will make an attempt to not add namespaces to `}<em parentName=\"p\">{`known`}</em>{` cluster-wide types.\nIt does this with a short list of types in `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/grafana/tanka/blob/main/pkg/process/namespace.go\"\n      }}>{`the source code`}</a>{`.`}</p>\n    <p>{`Tanka cannot feasibly maintain this list for all known custom resource types. In those cases, resources will have namespaces added to their manifests,\nand kubectl should happily apply them as non-namespaced resources.`}</p>\n    <p>{`If this presents a problem for your workflow, you can `}<strong parentName=\"p\">{`override this`}</strong>{` behavior\nper-resource, by setting the `}<inlineCode parentName=\"p\">{`tanka.dev/namespaced`}</inlineCode>{` annotation to `}<inlineCode parentName=\"p\">{`\"false\"`}</inlineCode>{`\n(must be of `}<inlineCode parentName=\"p\">{`string`}</inlineCode>{` type):`}</p>\n    <pre {...{\n      \"className\": \"material-theme-darker vscode-highlight\",\n      \"data-language\": \"jsonnet\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk10\"\n          }}>{`thing:`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` clusterRole.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk9\"\n          }}>{`new`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`(`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk6\"\n          }}>{`\"myClusterRole\"`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`)`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`       `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`+`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` clusterRole.mixin.metadata.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk9\"\n          }}>{`withAnnotationsMixin`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`({ `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk6\"\n          }}>{`\"tanka.dev/namespaced\"`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`: `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk6\"\n          }}>{`\"false\"`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` })`}</span></span></code></pre>\n\n    <style {...{\n      \"className\": \"vscode-highlight-styles\"\n    }}>{`\n  \n  .material-theme-darker {\nbackground-color: #212121;\ncolor: #EEFFFF;\n}\n\n.material-theme-darker .mtk1 { color: #FFFFFF; }\n.material-theme-darker .mtk2 { color: #212121; }\n.material-theme-darker .mtk3 { color: #545454; }\n.material-theme-darker .mtk4 { color: #F78C6C; }\n.material-theme-darker .mtk5 { color: #89DDFF; }\n.material-theme-darker .mtk6 { color: #C3E88D; }\n.material-theme-darker .mtk7 { color: #FFCB6B; }\n.material-theme-darker .mtk8 { color: #EEFFFF; }\n.material-theme-darker .mtk9 { color: #82AAFF; }\n.material-theme-darker .mtk10 { color: #FF5370; }\n.material-theme-darker .mtk11 { color: #F07178; }\n.material-theme-darker .mtk12 { color: #C792EA; }\n.material-theme-darker .mtk13 { color: #EEFFFF90; }\n.material-theme-darker .mtk14 { color: #65737E; }\n.material-theme-darker .mtk15 { color: #B2CCD6; }\n.material-theme-darker .mtk16 { color: #C17E70; }\n.material-theme-darker .mtki { font-style: italic; }\n.material-theme-darker .mtkb { font-weight: bold; }\n.material-theme-darker .mtku { text-decoration: underline; text-underline-position: under; }\n`}</style>\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}