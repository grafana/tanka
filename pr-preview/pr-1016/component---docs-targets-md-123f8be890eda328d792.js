(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{txtL:function(e,a,t){"use strict";t.r(a),t.d(a,"_frontmatter",(function(){return p})),t.d(a,"default",(function(){return o}));var n=t("wx14"),s=t("Ff2n"),c=(t("q1tI"),t("7ljp")),m=t("hhGP");t("qKvR");const l=["components"],p={};void 0!==p&&p&&p===Object(p)&&Object.isExtensible(p)&&!Object.prototype.hasOwnProperty.call(p,"__filemeta")&&Object.defineProperty(p,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"docs/targets.md"}});const r={_frontmatter:p},i=m.a;function o(e){let{components:a}=e,t=Object(s.a)(e,l);return Object(c.b)(i,Object(n.a)({},r,t,{components:a,mdxType:"MDXLayout"}),Object(c.b)("h1",{id:"output-filtering"},"Output Filtering"),Object(c.b)("p",null,"When a project becomes bigger over time and includes a lot of Kubernetes\nobjects, it may become required to operate on only a subset of them (e.g. apply\nonly a part of an application)."),Object(c.b)("p",null,"Tanka helps you with this, by allowing you to limit the used objects on the\ncommand line using the ",Object(c.b)("inlineCode",{parentName:"p"},"--target")," flag. Say you are deploying an ",Object(c.b)("inlineCode",{parentName:"p"},"nginx"),"\ninstance with a special ",Object(c.b)("inlineCode",{parentName:"p"},"nginx.conf")," and want to apply the ",Object(c.b)("inlineCode",{parentName:"p"},"ConfigMap")," first:"),Object(c.b)("pre",{className:"material-theme-darker vscode-highlight","data-language":"bash"},Object(c.b)("code",{parentName:"pre",className:"vscode-highlight-code"},Object(c.b)("span",{parentName:"code",className:"vscode-highlight-line"},Object(c.b)("span",{parentName:"span",className:"mtk3 mtki"},"# show the ConfigMap")),"\n",Object(c.b)("span",{parentName:"code",className:"vscode-highlight-line"},Object(c.b)("span",{parentName:"span",className:"mtk1"},"$ tk show -t configmap/nginx "),Object(c.b)("span",{parentName:"span",className:"mtk9"},".")),"\n",Object(c.b)("span",{parentName:"code",className:"vscode-highlight-line"},Object(c.b)("span",{parentName:"span",className:"mtk1"})),"\n",Object(c.b)("span",{parentName:"code",className:"vscode-highlight-line"},Object(c.b)("span",{parentName:"span",className:"mtk3 mtki"},"# all good? apply!")),"\n",Object(c.b)("span",{parentName:"code",className:"vscode-highlight-line"},Object(c.b)("span",{parentName:"span",className:"mtk1"},"$ tk apply -t configmap/nginx "),Object(c.b)("span",{parentName:"span",className:"mtk9"},".")),"\n",Object(c.b)("span",{parentName:"code",className:"vscode-highlight-line"},Object(c.b)("span",{parentName:"span",className:"mtk1"})),"\n",Object(c.b)("span",{parentName:"code",className:"vscode-highlight-line"},Object(c.b)("span",{parentName:"span",className:"mtk3 mtki"},"# and apply everything else:")),"\n",Object(c.b)("span",{parentName:"code",className:"vscode-highlight-line"},Object(c.b)("span",{parentName:"span",className:"mtk1"},"$ tk apply "),Object(c.b)("span",{parentName:"span",className:"mtk9"},".")))),Object(c.b)("p",null,"The syntax of the ",Object(c.b)("inlineCode",{parentName:"p"},"--target")," / ",Object(c.b)("inlineCode",{parentName:"p"},"-t")," flag is ",Object(c.b)("inlineCode",{parentName:"p"},"--target=<kind>/<name>"),". If\nmultiple objects match this pattern, all of them are used."),Object(c.b)("p",null,"The ",Object(c.b)("inlineCode",{parentName:"p"},"--target")," / ",Object(c.b)("inlineCode",{parentName:"p"},"-t")," flag can be specified multiple times, to work with\nmultiple objects."),Object(c.b)("h2",{id:"regular-expressions"},"Regular Expressions"),Object(c.b)("p",null,"The argument passed to the ",Object(c.b)("inlineCode",{parentName:"p"},"--target")," flag is interpreted as a\n",Object(c.b)("a",{parentName:"p",href:"https://github.com/google/re2/wiki/Syntax"},"RE2")," regular expression."),Object(c.b)("p",null,"This allows you to use all sorts of wildcards and other advanced matching\nfunctionality to select Kubernetes objects:"),Object(c.b)("pre",{className:"material-theme-darker vscode-highlight","data-language":"bash"},Object(c.b)("code",{parentName:"pre",className:"vscode-highlight-code"},Object(c.b)("span",{parentName:"code",className:"vscode-highlight-line"},Object(c.b)("span",{parentName:"span",className:"mtk3 mtki"},"# show all deployments")),"\n",Object(c.b)("span",{parentName:"code",className:"vscode-highlight-line"},Object(c.b)("span",{parentName:"span",className:"mtk1"},"$ tk show "),Object(c.b)("span",{parentName:"span",className:"mtk9"},"."),Object(c.b)("span",{parentName:"span",className:"mtk1"}," -t "),Object(c.b)("span",{parentName:"span",className:"mtk5"},"'"),Object(c.b)("span",{parentName:"span",className:"mtk6"},"deployment/.*"),Object(c.b)("span",{parentName:"span",className:"mtk5"},"'")),"\n",Object(c.b)("span",{parentName:"code",className:"vscode-highlight-line"},Object(c.b)("span",{parentName:"span",className:"mtk1"})),"\n",Object(c.b)("span",{parentName:"code",className:"vscode-highlight-line"},Object(c.b)("span",{parentName:"span",className:"mtk3 mtki"},'# show all objects named "loki"')),"\n",Object(c.b)("span",{parentName:"code",className:"vscode-highlight-line"},Object(c.b)("span",{parentName:"span",className:"mtk1"},"$ tk show "),Object(c.b)("span",{parentName:"span",className:"mtk9"},"."),Object(c.b)("span",{parentName:"span",className:"mtk1"}," -t "),Object(c.b)("span",{parentName:"span",className:"mtk5"},"'"),Object(c.b)("span",{parentName:"span",className:"mtk6"},".*/loki"),Object(c.b)("span",{parentName:"span",className:"mtk5"},"'")))),Object(c.b)("h3",{id:"gotchas"},"Gotchas"),Object(c.b)("p",null,"When using regular expressions, there are some things to watch out for:"),Object(c.b)("h4",{id:"line-anchors"},"Line Anchors"),Object(c.b)("p",null,"Tanka automatically surrounds your regular expression with line anchors:"),Object(c.b)("pre",{className:"material-theme-darker vscode-highlight","data-language":"text"},Object(c.b)("code",{parentName:"pre",className:"vscode-highlight-code"},Object(c.b)("span",{parentName:"code",className:"vscode-highlight-line"},"^<your expression>$"))),Object(c.b)("p",null,"For example, ",Object(c.b)("inlineCode",{parentName:"p"},"--target 'deployment/.*'")," becomes ",Object(c.b)("inlineCode",{parentName:"p"},"^deployment/.*$"),"."),Object(c.b)("h4",{id:"quoting"},"Quoting"),Object(c.b)("p",null,"Regular expressions may consist of characters that have special meanings in\nshell. Always make sure to properly quote your regular expression using ",Object(c.b)("strong",{parentName:"p"},"single\nquotes"),"."),Object(c.b)("pre",{className:"material-theme-darker vscode-highlight","data-language":"zsh"},Object(c.b)("code",{parentName:"pre",className:"vscode-highlight-code"},Object(c.b)("span",{parentName:"code",className:"vscode-highlight-line"},Object(c.b)("span",{parentName:"span",className:"mtk3 mtki"},"# shell attempts to match the wildcard itself:")),"\n",Object(c.b)("span",{parentName:"code",className:"vscode-highlight-line"},Object(c.b)("span",{parentName:"span",className:"mtk1"},"zsh-5.4.2$ tk show "),Object(c.b)("span",{parentName:"span",className:"mtk9"},"."),Object(c.b)("span",{parentName:"span",className:"mtk1"}," -t deployment/."),Object(c.b)("span",{parentName:"span",className:"mtk12"},"*")),"\n",Object(c.b)("span",{parentName:"code",className:"vscode-highlight-line"},Object(c.b)("span",{parentName:"span",className:"mtk1"},"zsh: no matches found: deployment/."),Object(c.b)("span",{parentName:"span",className:"mtk12"},"*")),"\n",Object(c.b)("span",{parentName:"code",className:"vscode-highlight-line"},Object(c.b)("span",{parentName:"span",className:"mtk1"})),"\n",Object(c.b)("span",{parentName:"code",className:"vscode-highlight-line"},Object(c.b)("span",{parentName:"span",className:"mtk3 mtki"},"# properly quoted:")),"\n",Object(c.b)("span",{parentName:"code",className:"vscode-highlight-line"},Object(c.b)("span",{parentName:"span",className:"mtk1"},"zsh-5.4.2$ tk show "),Object(c.b)("span",{parentName:"span",className:"mtk9"},"."),Object(c.b)("span",{parentName:"span",className:"mtk1"}," -t "),Object(c.b)("span",{parentName:"span",className:"mtk5"},"'"),Object(c.b)("span",{parentName:"span",className:"mtk6"},"deployment/.*"),Object(c.b)("span",{parentName:"span",className:"mtk5"},"'")),"\n",Object(c.b)("span",{parentName:"code",className:"vscode-highlight-line"},Object(c.b)("span",{parentName:"span",className:"mtk1"},"---")),"\n",Object(c.b)("span",{parentName:"code",className:"vscode-highlight-line"},Object(c.b)("span",{parentName:"span",className:"mtk1"},"apiVersion: apps/v1")),"\n",Object(c.b)("span",{parentName:"code",className:"vscode-highlight-line"},Object(c.b)("span",{parentName:"span",className:"mtk1"},"kind: Deployment")),"\n",Object(c.b)("span",{parentName:"code",className:"vscode-highlight-line"},Object(c.b)("span",{parentName:"span",className:"mtk3 mtki"},"# ...")))),Object(c.b)("h2",{id:"excluding"},"Excluding"),Object(c.b)("p",null,"Sometimes it may be desirably to exclude a single object, instead of including all others."),Object(c.b)("p",null,"To do so, prepend the regular expression with an exclamation mark (",Object(c.b)("inlineCode",{parentName:"p"},"!"),"), like so:"),Object(c.b)("pre",{className:"material-theme-darker vscode-highlight","data-language":"bash"},Object(c.b)("code",{parentName:"pre",className:"vscode-highlight-code"},Object(c.b)("span",{parentName:"code",className:"vscode-highlight-line"},Object(c.b)("span",{parentName:"span",className:"mtk3 mtki"},"# filter out all Deployments")),"\n",Object(c.b)("span",{parentName:"code",className:"vscode-highlight-line"},Object(c.b)("span",{parentName:"span",className:"mtk1"},"$ tk show "),Object(c.b)("span",{parentName:"span",className:"mtk9"},"."),Object(c.b)("span",{parentName:"span",className:"mtk1"}," -t "),Object(c.b)("span",{parentName:"span",className:"mtk5"},"'"),Object(c.b)("span",{parentName:"span",className:"mtk6"},"!deployment/.*"),Object(c.b)("span",{parentName:"span",className:"mtk5"},"'")))),Object(c.b)("style",{className:"vscode-highlight-styles"},"\n  \n  .material-theme-darker {\nbackground-color: #212121;\ncolor: #EEFFFF;\n}\n\n.material-theme-darker .mtk1 { color: #FFFFFF; }\n.material-theme-darker .mtk2 { color: #212121; }\n.material-theme-darker .mtk3 { color: #545454; }\n.material-theme-darker .mtk4 { color: #F78C6C; }\n.material-theme-darker .mtk5 { color: #89DDFF; }\n.material-theme-darker .mtk6 { color: #C3E88D; }\n.material-theme-darker .mtk7 { color: #FFCB6B; }\n.material-theme-darker .mtk8 { color: #EEFFFF; }\n.material-theme-darker .mtk9 { color: #82AAFF; }\n.material-theme-darker .mtk10 { color: #FF5370; }\n.material-theme-darker .mtk11 { color: #F07178; }\n.material-theme-darker .mtk12 { color: #C792EA; }\n.material-theme-darker .mtk13 { color: #EEFFFF90; }\n.material-theme-darker .mtk14 { color: #65737E; }\n.material-theme-darker .mtk15 { color: #B2CCD6; }\n.material-theme-darker .mtk16 { color: #C17E70; }\n.material-theme-darker .mtki { font-style: italic; }\n.material-theme-darker .mtkb { font-weight: bold; }\n.material-theme-darker .mtku { text-decoration: underline; text-underline-position: under; }\n"))}void 0!==o&&o&&o===Object(o)&&Object.isExtensible(o)&&!Object.prototype.hasOwnProperty.call(o,"__filemeta")&&Object.defineProperty(o,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"docs/targets.md"}}),o.isMDXComponent=!0}}]);
//# sourceMappingURL=component---docs-targets-md-123f8be890eda328d792.js.map